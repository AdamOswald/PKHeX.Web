@using PKHeX.Core
@inject Services.SaveFileService SaveFileService
@inject Services.PokemonEditorService PokemonEditorService

<PokemonGrid PokemonList="SaveFileService.SaveFile.PartyData" RowSize="2" Cells="6" SetPokemon="SetPokemon" />

@code {
    protected override void OnInitialized()
    {
        SaveFileService.OnChange += StateHasChanged;
    }

    protected void SetPokemon(int index)
    {
        SaveFileService.SaveFile.SetPartySlotAtIndex(PokemonEditorService.Pokemon.Clone(), index);
        SaveFileService.NotifyDataChanged();
    }
}